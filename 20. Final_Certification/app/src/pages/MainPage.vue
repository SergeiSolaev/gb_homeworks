<template>
    <div class="top">
        <HeaderComponent/>
        <div class="promo-wrapper center">
            <div class="promo">
                <div class="promo__info">
                    <h1 class="promo__info__title">
                        Пусть ваш дом будет уникальным
                    </h1>
                    <p class="promo__info__text">
                        Существует много вариаций Lorem Ipsum, которые можно использовать
                    </p>
                    <a class="button" href="#">
                        <p>Начать</p>
                        <svg width="17.151123" height="16.005859" viewBox="0 0 17.1511 16.0059" fill="none"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <desc>
                                Created with Pixso.
                            </desc>
                            <defs />
                            <path id="Vector" d="M1 7.93L14.73 7.8M9.62 1.41L16.15 7.93L9.49 14.59" stroke="#CDA274"
                                stroke-opacity="1.000000" stroke-width="2.000000" stroke-linejoin="round" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
        <div class="notice center">
            <h1 class="notice__title">
                Следите за нашими проектами
            </h1>
            <p class="notice__text">
                Хорошо известно, что читатель будет отвлекаться на читабельный контент страницы
            </p>
        </div>
        <div class="products center">
            <div class="products__item">
                <div class="products__item__img-1">

                </div>
                <div class="products__item__content">
                    <div class="product__item__content__info">
                        <h2 class="products__item__content__info__title">
                            Современная кухня
                        </h2>
                        <p class="products__item__content__info__text">
                            Декор / Планировка
                        </p>
                    </div>
                    <a class="products__item__content__button" href="#">
                        <svg width="10.004044" height="20.008179" viewBox="0 0 10.004 20.0082" fill="none"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <desc>
                                Created with Pixso.
                            </desc>
                            <defs />
                            <path id="Vector" d="M1 19L9 10L1 1" stroke="#292F36" stroke-opacity="1.000000"
                                stroke-width="2.000000" stroke-linejoin="round" stroke-linecap="round" />
                        </svg>

                    </a>
                </div>
            </div>
            <div class="products__item">
                <div class="products__item__img-2">

                </div>
                <div class="products__item__content">
                    <div class="product__item__content__info">
                        <h2 class="products__item__content__info__title">
                            Современная кухня
                        </h2>
                        <p class="products__item__content__info__text">
                            Декор / Планировка
                        </p>
                    </div>
                    <a class="products__item__content__button" href="#">
                        <svg width="10.004044" height="20.008179" viewBox="0 0 10.004 20.0082" fill="none"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <desc>
                                Created with Pixso.
                            </desc>
                            <defs />
                            <path id="Vector" d="M1 19L9 10L1 1" stroke="#292F36" stroke-opacity="1.000000"
                                stroke-width="2.000000" stroke-linejoin="round" stroke-linecap="round" />
                        </svg>

                    </a>
                </div>
            </div>
            <div class="products__item">
                <div class="products__item__img-3">

                </div>
                <div class="products__item__content">
                    <div class="product__item__content__info">
                        <h2 class="products__item__content__info__title">
                            Современная кухня
                        </h2>
                        <p class="products__item__content__info__text">
                            Декор / Планировка
                        </p>
                    </div>
                    <a class="products__item__content__button" href="#">
                        <svg width="10.004044" height="20.008179" viewBox="0 0 10.004 20.0082" fill="none"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <desc>
                                Created with Pixso.
                            </desc>
                            <defs />
                            <path id="Vector" d="M1 19L9 10L1 1" stroke="#292F36" stroke-opacity="1.000000"
                                stroke-width="2.000000" stroke-linejoin="round" stroke-linecap="round" />
                        </svg>

                    </a>
                </div>
            </div>
            <div class="products__item">
                <div class="products__item__img-4">

                </div>
                <div class="products__item__content">
                    <div class="product__item__content__info">
                        <h2 class="products__item__content__info__title">
                            Современная кухня
                        </h2>
                        <p class="products__item__content__info__text">
                            Декор / Планировка
                        </p>
                    </div>
                    <a class="products__item__content__button" href="#">
                        <svg width="10.004044" height="20.008179" viewBox="0 0 10.004 20.0082" fill="none"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <desc>
                                Created with Pixso.
                            </desc>
                            <defs />
                            <path id="Vector" d="M1 19L9 10L1 1" stroke="#292F36" stroke-opacity="1.000000"
                                stroke-width="2.000000" stroke-linejoin="round" stroke-linecap="round" />
                        </svg>

                    </a>
                </div>
            </div>
        </div>
        <div class="achivments">
            <div class="achivments__item">
                <div class="achivments__item__count">12
                </div>
                <div class="achivments__item__info">
                    Лет опыта
                </div>
            </div>
            <div class="achivments__item">
                <div class="achivments__item__count">85
                </div>
                <div class="achivments__item__info">
                    Успешных проектов
                </div>
            </div>
            <div class="achivments__item">
                <div class="achivments__item__count">15
                </div>
                <div class="achivments__item__info">
                    Проектов в работе
                </div>
            </div>
            <div class="achivments__item">
                <div class="achivments__item__count">95
                </div>
                <div class="achivments__item__info">
                    Счастливых клиента
                </div>
            </div>
        </div>
        <div class="posts center">
            <div class="posts__info">
                <h1 class="posts__info__title">
                    Cтатьи & <br>Новости
                </h1>
                <p class="posts__info__text">
                    Хорошо известно, что читатель будет отвлекаться на читабельный контент страницы
                </p>
            </div>
            <div class="posts__items">
                <div v-for="post in lastThreePosts" :key="post.id" :id="post.id" :class="setClassArticleItem(post.id)">
                    <div class="posts__items__item__img-wrapper">
                        <img :src="post.img_prewiev" class="posts__items__item__img"  alt="">
                        <div class="posts__items__item__img__label">
                            {{ post.short_desc }}
                        </div>
                    </div>
                    <div class="posts__items__item__title">{{ post.title }}</div>
                    <div class="posts__items__item__date">
                        {{ post.date }}
                        <a :class="setClassArticleButton(post.id)" href="#">
                            <svg width="10.004044" height="20.008179" viewBox="0 0 10.004 20.0082" fill="none"
                                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <desc>
                                    Created with Pixso.
                                </desc>
                                <defs />
                                <path id="Vector" d="M1 19L9 10L1 1" stroke="#292F36" stroke-opacity="1.000000"
                                    stroke-width="2.000000" stroke-linejoin="round" stroke-linecap="round" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <FooterComponent/>
    </div>
</template>

<script>
    import { mapState } from 'vuex';
    import HeaderComponent from '../components/HeaderComponent.vue'
    import FooterComponent from '../components/FooterComponent.vue'
    export default {
        name: '',
        components: {
            HeaderComponent,
            FooterComponent,
        },
        data() {
            return {
                // Массив для хранения последних трёх статей из postsStore
                lastThreePosts: [],
            }
        },
        computed: {
           ...mapState(['postsStore']),
        },
        mounted() {
            this.loadLastThreePosts();
        },
        methods: {
            // Метод загружает последние три статьи из postsStore
            loadLastThreePosts() {
                const posts = this.postsStore;
                const lastThreePosts = posts.slice(Math.max(posts.length - 3, 0));
                this.lastThreePosts = lastThreePosts.reverse()
            },
            // Метод определяет фон блока статьи
            setClassArticleItem(id) {
                if (id % 2 == 0) {
                    return 'posts__items__item backgroundBright'
                } else {
                    return 'posts__items__item'
                }
            },
            // Метод определяет фон кнопки статьи
            setClassArticleButton(id) {
                if (id % 2 == 0) {
                    return 'posts__items__item__date__button backgroundWhite'
                } else {
                    return 'posts__items__item__date__button backgroundBright'
                }
            }

        }
    }
</script>

<style lang="scss" scoped>

</style>